 # Registration Form with Payment Integration

This project demonstrates a registration form that collects user information and allows users to make a payment using Juspay Hypercheckout. It includes features such as input validation, referral discounts, and user data retrieval from a database.

## Prerequisites

- Node.js and npm installed
- A Juspay account and API key

## Setup

1. Clone the repository:

```
git clone https://github.com/your-username/registration-form-with-payment-integration.git
```

2. Install the dependencies:

```
npm install
```

3. Create a `.env` file in the root directory and add your Juspay API key:

```
JUSPAY_API_KEY=YOUR_API_KEY
```

## Code Overview

The `Register` component is the main component of the application. It handles the registration form, input validation, payment integration, and user data retrieval.

### Form Submission

The `handleSubmit` function is called when the form is submitted. It collects the user input and constructs a `formData` object. This object contains all the user details, including the amount to be paid.

```javascript
const handleSubmit = async (e) => {
  e.preventDefault();
  setLoading(true);

  if (referral === 'SUNIL') {
    setAmount(amount - 49);
  }

  const formData = {
    firstName,
    lastName,
    email,
    phoneNumber,
    college,
    usn,
    year,
    branch,
    referral,
    amount,
    registered,
    inside,
  };
```

### Payment Integration

The `handleSubmit` function then makes a POST request to the `/payment` endpoint. This endpoint is responsible for initiating the payment process using Juspay Hypercheckout.

```javascript
const response = await fetch('/payment', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ collectionName: 'registrations', data: formData }),
});
```

If the payment is successful, the user is redirected to the Juspay Hypercheckout screen to complete the payment.

```javascript
if (response.ok) {
  const result = await response.json();
  console.log('Response Object', result);

  if (result.

Generated by [BlackboxAI](https://www.blackbox.ai)